<div class="container">
  <div class="album">
    <% if notice.present? %><p id="notice"><%= notice %></p><% end%>
    <div class="container d-flex justify-content-between">
      <h3>My Videos</h3>
      <div class="d-flex justify-content-end align-items-center">
        <%= link_to 'New Video', new_video_path, class: 'btn btn-sm btn-primary' %>
      </div>
    </div>
    <br>
    <div class="row">
      <% @videos.each_with_index do |video, index| %>
        <div class="col-md-6">
          <div class="card mb-4 shadow-sm">
            <%= link_to(video) do %>
              <video id="<%= "video_#{index}" %>" class="video-js vjs-default-skin video-off card-img-top"
                controls preload="auto" width="600" height="225" data-setup="{}">
                <source src="<%= video.url %>" type="application/vnd.apple.mpegurl"/>
              </video>
            <% end %>
            <div class="card-body">
            <h5 class="card-title"><%= video.name %></h5>
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                  <%= link_to 'Edit', edit_video_path(video), class: "btn btn-sm btn-outline-secondary" %>
                  <%= link_to 'Destroy', video, method: :delete,
                    data: { confirm: 'Are you sure?' }, class: "btn btn-sm btn-outline-danger" %>
                </div>
                <small class="text-muted"><%= "#{video.views} views"%></small>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
